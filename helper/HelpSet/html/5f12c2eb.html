<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" href="style.css" type="text/css"></link>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="date" content="20160511232928" />
<!-- created with HelpSetMaker, ID=5f12c2eb -->
<title>vecci</title>
</head>
<body class="doc">
<h1>vecci</h1>

<p>Veccy is one of the few enties in VIDE which is not based on software of other programmers, so if you are not content with what you find here - all blame belongs to Malban alone!</p>

<p>Anyway... vecci is is the part of VIDE that concerns itself with vector drawing, vector lists and other display stuff. There are many functions hidden under the complicated seeming gui. But I promise you, once you programmed vecci, you know it by heart and can do wonderfull stuff with it!</p>
<br/><p align="center">
<img src="pics/veccy.png" width="1184" height="946" /><br/>
<em>vecci window</em></p><br/>
<h2>Basic</h2>
<h3>Colors</h3>

<p>Using veccy you will notice different colorings in the vector display areas:
<ul><li>
<p>black<br />
 the background is always black</p>
</li><li>
<p>darkgray<br />
the grid (if enabled) is always dark gray</p>
</li><li>
<p>different shades of gray<br />
  are vectors with different intensities</p>
</li><li>
<p>blue surrounding<br />
  are selected entities</p>
</li><li>
<p>light purple<br />
  are highlighted entities</p>
</li><li>
<p>purple vectors<br />
  are vectors which have "joined" ends at both sides</p>
</li><li>
<p>red little squares<br />
  are the endpoints of vectors</p>
</li><li>
<p>pink little squares<br />
  are "joined" endpoints of vectors</p>
</li><li>
<p>dark blue vectors<br />
  are "move" vectors (pattern 0) which are made (optionally) visible  </p>
</li><li>
<p>dots/patterns<br />
  are patterned vectors (these do not fit 100% to vectrex patterns!)</p>
</li><li>
<p>orange<br />
  the ruler/crosshair is orange</p>
</li><li>
<p>green<br />
  the ruler/crosshair is green while a mouse button is pressed</p>
</li><li>
<p>dark green alpha values<br />
  is the rectangle that can be build by dragging the mouse on the editor</p>
</li><li>
<p>bright red<br />
  selected entities in the "DISPLAY" panel</p>
</li><li>
<p>bright yellow<br />
  highlight entities in the "DISPLAY" panel  </p>
</li></ul>
</p>
<h3>Entities</h3>

<p>With vecci you can handle two different entities. 
<ol><li>
<p>Vectorlists</p>
</li><li>
<p>Animations/Scenarios</p>
</li></ol>
</p>
<h3>Vectorlists</h3>

<p>Vectorlists are vectrex basic vector lists. They come in different flavors, just as there are different BIOS routines in the vectrex BIOS. In general following permutations are possible:
<ul><li>
<p>relative vector information</p>
</li><li>
<p>non relative vector information</p>
</li><li>
<p>intensity settings</p>
</li><li>
<p>pattern settings</p>
</li><li>
<p>continueous drawing &larr;&gt; position dependend drawing</p>
</li><li>
<p>with "move" or without "move" (could be a subset of pattern)</p>
</li></ul>
</p>

<p>Not all of these cases are implemented as exports as of now, but all of these factors can be edited and persisted by veccy.</p>

<p>The main "list" of vectors is displayed in the first tab named "Vector List" on the left side of the window. </p>
<h3>Animations/Scenarios</h3>

<p>Animations is what I call a collection of vectorlists which have a common "interest" this might be a rotation, a movement or a "real" animation.</p>

<p>An animation consists of an arbitrary number of vector list. As of now these can be saved/loaded in Veccy format (and exported). Custom routines to use animations are as example provided...</p>

<p><b>Note!</b><br />
The DISPLAY panel can be switched from "vectorlist" display to "animation/scenario" display using the "play" button!</p>
<h2>Window entities in short</h2>

<ul><li>
<p>the "black" panels are vector displays or editors</p>
</li><li>
<p>editing can only be done in the upper half of veccy, in the vector editor panel(s) or in the vector table</p>
</li><li>
<p>in the middle you have a vector DISPLAY panel, and several tabs/buttons with which you can change modes or build/transform vectorlists</p>
</li><li>
<p>in the lower section of the window you have the animation/scencario settings and functions</p>
</li></ul>
<h3>Vector panels</h3>

<p>There are a number of "black" panels you see in the veccy window. These in general display vectors. The three largest (all in the upper half of the window (two are "hidden" on the tab "Y/Z") ) are "editor" panels. Here you can actually draw, select, delete and move vectors. The three largest also fathom a "grid". The grid can be toggled on/off with the small checkbox "grid" on the left of the window. You can also select the width of the grid. If the grid is enabled, vectors are placed on the current grid spacing!</p>

<p>The middle "smaller" vector display window is only a "DISPLAY", here you can see the current vectorlist:
<ol><li>
<p>as a 3d setting</p>
</li><li>
<p>as an animation</p>
</li><li>
<p>as a scenario</p>
</li></ol>
</p>

<p>depending on your current settings.</p>

<p>There are two sliders which you can see when you open veccy, both are used to change the scale of the nearby vector displays. If you center the sliders the scale value is one and you see approximatly a display with coordinates ranging from -150 to +150. You will probably also see a light blue border. This border I call "byteFrame" it can be switched on and off using the "byteFrame" checkbox in the upper left of the window. The byteFrame is drawn around the coordinates -128 to +127, this is the largest/smallest possible value a vector for vectrex should have, since it is a 8bit-machine and the values are signed.</p>
<h3>Vector table</h3>

<p>Right of the main vector editor panel you can see a table, this table holds (in veccy format) all vector information of the currently edited vectorlist. The relevant fields (coordinates, pattern, intensity) can be edited. Below the table are several buttons, with these you can persist or load single vectorlists.</p>

<ul><li>
<p><img src="pics/page_go.png" alt="page_go.png" /> &nbsp;&nbsp;<b>load vectorlist</b><br />
Load a vectorlist from a XML-file, the current is overwritten.</p>
</li><li>
<p><img src="pics/page_save.png" alt="page_save.png" /> &nbsp;&nbsp;<b>save vectorlist</b><br />
Save the current vectorlist to a XML-file.<br />
<br />
</p>
</li><li>
<p><img src="pics/arrow_undo.png" alt="arrow_undo.png" /> &nbsp;&nbsp;<b>undo</b><br />
</p>
</li><li>
<p><img src="pics/arrow_redo.png" alt="arrow_redo.png" /> &nbsp;&nbsp;<b>redo</b><br />
<br />
</p>
</li><li>
<p><img src="pics/page_copy.png" alt="page_copy.png" /> &nbsp;&nbsp;<b>copy selected vectors</b><br />
Put the current selected vectors in a buffer (this is no clipboard buffer, but can be accessed from all veccy-panels)</p>
</li><li>
<p><img src="pics/paste_plain.png" alt="paste_plain.png" /> &nbsp;&nbsp;<b>paste buffer</b><br />
Paste the current buffer into the current vectorlist. </p>
</li><li>
<p><img src="pics/cut.png" alt="cut.png" /> &nbsp;&nbsp;<b>cut selected vectors</b><br />
 The current selected vectors are deleted, but also placed in the buffer <br />
 <br />
</p>
</li><li>
<p><img src="pics/page_add.png" alt="page_add.png" /> &nbsp;&nbsp;<b>insert vectorlist file</b><br />
Insert another XML-file into the current vectorlist.</p>
</li><li>
<p><img src="pics/page_edit.png" alt="page_edit.png" /> &nbsp;&nbsp;<b>save selection as XML-file</b><br />
Save the current selected vectors as a XML-file. <br />
</p>
</li><li>
<p><img src="pics/new.png" alt="new.png" /> &nbsp;&nbsp;<b>new</b><br />
Clear vectorlist.</p>
</li><li>
<p>expanding/shrinking<br />
With the <img src="pics/add.png" alt="add.png" /> and <img src="pics/delete.png" alt="delete.png" /> buttons you can enlarge or shrink the vectorlist according to the factor given by the nearby textfield. (shrinking uses 1/value of textfield as factor)<br />
Since the value is a FACTOR you can not expand points!</p>
</li></ul>

<p>If in the "select vector" mode (see below), you can also select vectors by selecting the rows in the table, if you want to move them, remember to press shift while draging!</p>

<p>The table also shows the selection you make by selecting vectors in the edit panel.</p>

<p>Start- and end- points selections are also shown in the table.</p>
<h3>3d settings and other...</h3>

<p>The above table is part of a tabbed pane surrounding it. The other tabs are:
<ul><li>
<p>Y/Z<br />
If you want to edit 3d vectorlists, here are the other to visual displays. The "normal" display I call "Front", the second I call "Top" and the third "Sideways". All three displays are orthogonal displays. To view the actual 3d structure you have to look at the DISPLAY vector display.</p>
</li><li>
<p>3d axis settings<br />
Usually the DISPLAY display is the same as the "Front" display, but using this tab you can change the angle (camera position), the location and the axis of the DISPLAY.</p>
</li><li>
<p>import and export<br />
See extra pages for these...</p>
</li><li>
<p>vectorlist status<br />
</p>
<br/><p align="center">
<img src="pics/VeccyInfo.png" width="721" height="361" /><br/>
<em>information</em></p><br/>

<p>On this tab you can see diverse information about the current edited vectorlist. The information you can find here gives you clues in what way you can export the current list or what is right/wrong with it in its current state. The checkboxes on this page are only means to display the current status, checking/unchecking them manually does not result in any changes! Following information is provided:
<ul><li>
<p>all vectors same intensity<br />
 only information, no relevance otherwise</p>
</li><li>
<p>all vectors same pattern<br />
 some save formats will be disabled, since these have no means to convey pattern information</p>
</li><li>
<p>all pattern high bit set<br />
are all patterns &gt; 128 some vectorlist formats require that!</p>
</li><li>
<p>2d only<br />
 all z coordinates must be 0, only information, no relevance otherwise</p>
</li><li>
<p>vectors in one path<br />
are all vectors (except start and end) connected? (determined by different method &rarr; start, end point)</p>
</li><li>
<p>vectors continuous<br />
are all vectors (except start and end) connected? (determined by different method &rarr; relative)</p>
</li><li>
<p>closed polygon<br />
 same as the last two, but including start/end vectors</p>
</li><li>
<p>ordered closed polygon<br />
 as above but the vectors must also be ordered correctly</p>
</li><li>
<p>also displayed are the min/max coordinates of vectors and the maximal length found (which will be red if larger than 127)</p>
</li></ul>
</p>
</li></ul>
</p>
<h2>Drawing vectors</h2>
<h3>Mode</h3>

<p>There are as of yet three different modes, veccy can be set to. Depending on the mode settings you can do different things.   The modes can be changed by a setting nearly in the middle of the window. In a tabbed pane with the heading "Mode/Select": </p>
<br/><p align="center">
<img src="pics/VeccyMode.png" width="253" height="240" /><br/>
<em>Mode</em></p><br/>

<p>The "Set" mode, does what it is named after - it sets vectors. The other modes are "edit" modes.<br />
</p>

<p>Veccy starts of in Mode "Set"</p>
<h4>Mode "SET"</h4>

<p>In the "set" mode, you can actually draw vectors. Left click on the "black" panel on the upper right, dragging the mouse and releasing the button draws one single vector. Right click after you have drawn your first vector will create a new vector from the last "end" position to the current click position.</p>

<p>The draw mode can have two additional "features" which can be turned on/off with the checkboxes directly to the left of the "Set" button.
<ol><li>
<p>continue<br />
This option if enabled "continues" drawing directly to the next position. The resulting "multiple" vectors are connected (you can unconnect them later if needed - as you can also connect previously unconnected vectors later)</p>
</li><li>
<p>points ok<br />
This option allows you to set points, vectors with a length of 0, don't know if one ever needs it, but here you go as an option.</p>
</li></ol>
</p>

<p>Setting vectors is straight forward and thats all you can do in this mode!</p>
<h4>Mode "select point"</h4>

<p>In this mode you can select and move single points of vectors.</p>

<p>If you move the mouse over the vector panel, the point under the mouse is highlighted. With a click on the left mouse button you select the point (blue surrounding). You can "drag" a point with the mouse button.</p>

<p>If you shift/click you can select more than one point - draging, drags "all" selected points.</p>

<p>I you click on an "empty" spot (no highlighted point), you can drag a "rectangle" and capture points with it (select points). Shift/draging allows again to drag all of them.</p>

<p>To "unselect" a single point, keep shift pressed and click the point you want to remove with the middle mouse button.</p>

<p>Right click on a point gives you (depending on current circumstances) more options, a popup menu will be displayed.</p>

<p>For example, if you drag two points over each other AND have "continue" enabled, you can  join vectors at these points.</p>
<h4>Mode "select vector"</h4>

<p>In this mode you can select and move vectors.</p>

<p>The settings are nearly identical to the "point" section...</p>

<p>If you move the mouse over the vector panel, the vector under the mouse is highlighted. With a click on the left mouse button you select the vector (blue surrounding). You can "drag" a vector with the mouse button.</p>

<p>If you shift/click you can select more than one vector - draging, drags "all" selected vectors.</p>

<p>I you click on an "empty" spot (no highlighted vector), you can drag a "rectangle" and capture vectors with it (select vectors). Shift/draging allows again to drag all of them.</p>

<p>To "unselect" a single vector, keep shift pressed and click the vector you want to remove with the middle mouse button.</p>

<p>Right click on a vector gives you (depending on current circumstances) more options, a popup menu will be displayed.</p>
<h3>Popup / Point selection</h3>

<p><tt>Always</tt><br />

<ul><li>
<p>Set as Start<br />
Sets the current highlighted point as startpoint of the vectorlist. The vectorlist might be reordered in order to set the point. </p>
</li></ul>
</p>

<p><tt>Without continue:<br />
-----------------<br />
</tt> 2 points selected:
<ul><li>
<p>"join selected (here)"<br />
  moves both points to the highlighted location   they are not JOINED, only brought to the same location!</p>
</li><li>
<p>"connect selected"<br />
  builds a new vector between the two selected points</p>
</li><li>
<p>"Rip joined vectors"<br />
  rips two (truly) joined vectors </p>
</li></ul>
</p>

<p><tt>With continue:<br />
--------------</tt><br />
x Points selected<br />

<ul><li>
<p>"join here"<br />
  Joins all points at the current location and truly joins them!</p>
</li></ul>
</p>

<p>2 Points selected<br />

<ul><li>
<p>"connect selected"<br />
  builds a new vector between the two selected points and joins both ends   of the new vector to their endpoints</p>
</li><li>
<p>"join selected (here)"<br />
  moves both points to the highlighted location   and truly JOINS them</p>
</li><li>
<p>"Rips joined vectors"<br />
  rips two (truly) joined vectors </p>
</li></ul>
</p>
<h3>Popup / Vector selection</h3>

<p>Here you only have two selections:
<ul><li>
<p>delete selected </p>
</li><li>
<p>delete not selected</p>
</li></ul>
</p>
<h3>Visual</h3>

<p>On the same Tab as the mode selects there are also some additional options available:
<ul><li>
<p>arrows<br />
Draw vectors as arrows, shows simply the direction of a vector.</p>
</li><li>
<p>position<br />
Draw a number on each vector which shows the ordering position in the vectorlist.</p>
</li><li>
<p>moves visible<br />
If checked move vectors (pattern = 0) are displayed using a dark blue color.</p>
</li></ul>
</p>
<h2>build animation</h2>

<p>Under this tab there are a few functions to build animations or scenarios from the current vectorlist.</p>
<h3>Rotation</h3>
<br/><p align="center">
<img src="pics/rotation.png" width="732" height="477" /><br/>
<em>Rotation example</em></p><br/>

<p>Rotations can be calculated by vecci, you can chose the axis (1 or more axis) the maximal angle and the number of steps you would like to rotate.</p>

<p>If you use "large" coordinates in your vectorlists, the rotation list values <i>can</i> be higher than the byte range vectrex allows, to prevent this you can chose the extra option "scale to byte", this ensures that the resulting list still "fits".</p>
<br/><p align="center">
<img src="pics/test.gif" /><br/>
<em>Rotation example</em></p><br/>
<h3>Morphing</h3>

<p>You can also "morph" from one vectorlist to another. The two first vectorlists in the current animation (see below) are used as input. You can chose the number of steps you wish to use.</p>
<br/><p align="center">
<img src="pics/ChrisFrog.gif" /><br/>
<em>Morph example</em></p><br/>
<h3>Scenario</h3>

<p>As of now only one function ist provided: <br />
seperate paths as scenario entries:<br />
Using this button you can split the current vectorlist in seperate vectorlists. For each "connected path" in the vectorlist one scenario entry is generated. The opposite function is the "join" function in the animation/scenario section. <br />
Example:<br />
<img src="pics/splitExample1.png" alt="splitExample1.png" /> &larr;&gt; <img src="pics/splitExample2.png" alt="splitExample2.png" /></p>
<h2>Shortcuts</h2>
<br/><p align="center">
<img src="pics/shortcuts.png" width="290" height="254" /><br/>
<em>shortcuts</em></p><br/>

<p>There are a couple of "helper" functions provided, these function on complete vectorlists (not animations(yet) ).
<ul><li>
<p>center vectorlist<br />
Well - centers the current vectorlist</p>
</li><li>
<p>connect when possible<br />
If vectors in the list have the same start/end coordinates, this functions "joins" these vectors.</p>
</li><li>
<p>order vectorlist<br />
This function orders the vectors to the best of vides automation abilities, this means there are several steps taken:
<ul><li>
<p>first it is insured that all "joined" vectors are joined to their "correct" ends, meaning startpoints are joined to endpoints vice/versa, if this is done, usualy one of the vectors changes its orientation</p>
</li><li>
<p>all joined vectors are ordered in their "natural" join order</p>
</li><li>
<p>all other vectors are ordered in their natural order</p>
</li><li>
<p>the "order" parameter of vectors is set accordingly<br />
Example:<br />
<img src="pics/OrderedWrong.png" alt="OrderedWrong.png" /> &larr;&gt; <img src="pics/OrderedCorrect.png" alt="OrderedCorrect.png" /></p>
</li></ul>
</p>
</li><li>
<p>split where needed<br />
Tests all vector lengths, if a vector is longer in any dimension than 127 "pixels" the vector is splitted in half. After processing there is no single vector that is "longer" than 127.</p>
</li><li>
<p>fill gaps (with move vectors)<br />
This ensures all points are connected (but no circular connection is formed, meaning start and end points are not connected). "Ordering" is invoked upon start, apart from reordering no vectors are changed, new vectors are inserted, where gaps were found. The new vectors are always "moves" (pattern = 0), new vectors are always smaller than 128.<br />
<img src="pics/noFilled.png" alt="noFilled.png" /> &larr;&gt; <img src="pics/gapsFilled.png" alt="gapsFilled.png" /></p>
</li><li>
<p>remove dots<br />
</p>
</li><li>
<p>fit byte<br />
enlarges/shrinks the current vectorlists to optimally fit into the byte range<br />
</p>
</li></ul>
</p>

<p><b>Note!</b><br />
There are "strange" cases of vectorlists, when above implemented shortcuts may not lead to optimal results. One simple case is a construct like:<br />
<img src="pics/polygonError.png" alt="polygonError.png" /> <br />
</p>

<p>Here you see a start vector going off in one direction and the start location is JOINED with two other vectors (a three-way join) which forms a closed polygon.<br />
This and similar constructs are not easy to analyse and handle correctly. I have not even tried very hard - if you have vectorlists like that, please optimize them by hand!</p>
<h2>Animations / Scenario</h2>

<p>(for a picture look at "Rotation")<br />
Animations/Scenarios are both a collection of different vectorlists. I differ the two entities because one displays all vectorslists at the same time (scenario) the other plays each vectorlist after another (with a delay) to create the illusion of an animation. <br />
The datastructure and the handling in veccy are identical! <br />
In short what you can see/do:<br />

<ul><li>
<p><img src="pics/page_go.png" alt="page_go.png" /> &nbsp;&nbsp;<b>load animation</b><br />
Load an animaton from a XML-file, the current is overwritten.</p>
</li><li>
<p><img src="pics/page_save.png" alt="page_save.png" /> &nbsp;&nbsp;<b>save animation</b><br />
Save the current animation to a XML-file.<br />
</p>
</li><li>
<p>"add current"<br />
 adds the current edited vectorlist (a clone actually) to the current animation</p>
</li><li>
<p>"apply" <br />
if you edit the "current" animation frame (which is a clone of the frame!) you can use the apply button to actually apply the changes to the animation</p>
</li><li>
<p>"add view"<br />
adds the current "DISPLAY" of the current edited vectorlist to the animation. If you e.g. translocated of rotated the camera (see TAB "3d axis settings") the DISPLAY differes from the current vectorlist in the editor. With this button you can "use" the DISPLAY.</p>
</li><li>
<p>"revers"<br />
 reverses all animation frames</p>
</li><li>
<p>"&larr;" and "&rarr;"<br />
sets the next animation frame as the current edited (clone!) vectorlist.<br />
SHIFT clicking the buttons MOVES one animation frame in the corresponding direction!</p>
</li><li>
<p>"delete" <br />
 delete one animation frame (the current selected)</p>
</li><li>
<p>"clear" <br />
 completely clears the current animation</p>
</li><li>
<p>"join" <br />
 This joins all vectorlist entries in the current animation/scenario into one single vectorlist</p>
</li></ul>
</p>
<h2>Veccy format (Save/Load)</h2>

<p>The vecvy save format is a straight forward XML-File with all data in appropriate sub structures.</p>

<ul><li>
<p>a VectorAnimation consists of n XML-structures of the type GFXVectorList</p>
</li><li>
<p>a GFXVectorList consists of n XML-structures of the type GFXVector</p>
</li><li>
<p>a GFXVector consists of 2 XML-structures of the type Vertex (start and end) and several atomic entities (int, double, string)</p>
</li><li>
<p>all Vertexes (even joined and supposedly relative vectors) are stored with ABSOLUT positioning information.</p>
</li><li>
<p>in a vectorlist "connected" vectorlist are connected via a unique ID of vectors, the unique ID is only guranteed to be unique in ONE saved XML file (be it GFXVectorList or VectorAnimation)</p>
</li></ul>

<p>If need should arise I can also provide a "JSON" format.</p>
</body>
</html>
